/* Square Styling */

.square {
  background-color: rgb(253, 119, 1);
  width: 90%; /* Adjust the size of the hexagon */
  height: 90%; /* Adjust the height for the hexagon */
  display: flex;
  align-items: center; /* Vertically center the content */
  justify-content: center; /* Horizontally center the content */
  cursor: pointer; /* Cursor pointer on hover */

  position: relative; /* Ensure flexbox works correctly */
}

/* Image inside the hexagon */
.square img {
  position: absolute;
  width: 75%; /* Adjust the image size relative to the hexagon */
  height: 75%; /* Ensure the image maintains its aspect ratio */
  object-fit: contain; /* Maintain image aspect ratio without stretching */
  user-select: none; /* Prevent text/image selection */
  -webkit-user-drag: none; /* Prevent dragging images in WebKit browsers */
  pointer-events: none; /* Ignore pointer events on the image (so clicks go to the cell) */
}

.square.unbroken:hover {
  background-color: rgb(29, 7, 199);
}

.square.flagged:hover {
  background-color: rgb(29, 7, 199);
}

.square.unbroken {
  background-color: blue; /* or your default color */
}

.square.flagged {
  background-color: blue; /* or your default color */
}

.square.empty {
  background-color: tan;
  cursor: default;
}

.square.numbered {
  background-color: tan;
  cursor: default;
}

.square.mine {
  background-color: red;
  cursor: default;
}

.square.trophy {
  background-color: rgb(102, 255, 0);
  cursor: default;
}

.square.trophy {
  animation: trophyGlow 1.2s ease-in-out infinite;
}

@keyframes trophyGlow {
  0% {
    filter: drop-shadow(0 0 0 gold);
  }
  50% {
    filter: drop-shadow(0 0 10px gold);
  }
  100% {
    filter: drop-shadow(0 0 0 gold);
  }
}

.square.explode {
  animation: explode 0.45s cubic-bezier(0.2, 0.9, 0.3, 1.2);
  z-index: 10;
}

@keyframes explode {
  0% {
    transform: scale(1);
    filter: brightness(1);
  }
  20% {
    transform: scale(1.6) rotate(6deg);
    filter: brightness(1.8);
  }
  45% {
    transform: scale(1.3) rotate(-4deg);
    filter: brightness(1.4);
  }
  100% {
    transform: scale(0.9);
    opacity: 0.75;
    filter: brightness(1);
  }
}

.square-cell.explode::before,
.square-cell.explode::after {
  content: "";
  position: absolute;
  inset: -25%;
  border-radius: 50%;
  pointer-events: none;
}

.square-cell.explode::before {
  background: radial-gradient(
    circle,
    rgba(255, 180, 0, 0.9) 0%,
    rgba(255, 80, 0, 0.8) 40%,
    rgba(200, 0, 0, 0.6) 60%,
    transparent 75%
  );
  animation: fireBurst 0.45s ease-out;
}

@keyframes fireBurst {
  0% {
    transform: scale(0.6);
    opacity: 1;
  }
  60% {
    transform: scale(1.4);
    opacity: 0.9;
  }
  100% {
    transform: scale(1.8);
    opacity: 0;
  }
}

@keyframes flash {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}
